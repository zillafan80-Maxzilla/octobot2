# OctoBot 三角套利交易系统完整使用手册

**版本**: 2.0.16  
**文档更新时间**: 2026年1月5日  
**系统地址**: https://www.inarbit.work  
**作者**: Manus AI

---

## 目录

1. [系统概述](#系统概述)
2. [快速入门](#快速入门)
3. [主菜单功能详解](#主菜单功能详解)
4. [核心功能操作指南](#核心功能操作指南)
5. [高级配置](#高级配置)
6. [常见问题解答](#常见问题解答)
7. [故障排查](#故障排查)
8. [附录](#附录)

---

## 系统概述

### 什么是OctoBot？

OctoBot是一个开源的加密货币自动交易机器人系统，专门用于执行三角套利策略。该系统能够同时监控多个交易所的价格差异，自动发现套利机会并执行交易。

### 核心特性

**自动化交易**：系统7×24小时不间断运行，自动监控市场并执行交易策略。

**三角套利策略**：通过监控不同交易所之间的价格差异，在同一交易所内完成买卖操作获取利润，无需在交易所之间转移资金。

**模拟交易模式**：支持使用虚拟资金进行交易测试，零风险验证策略效果。

**多交易所支持**：可同时连接Binance、OKX、Huobi等多个主流交易所。

**实时监控**：提供投资组合价值、盈亏统计、订单历史等实时数据展示。

### 系统架构

本系统部署在阿里云服务器（8.211.158.208），通过Docker容器运行OctoBot 2.0.16版本，使用Nginx作为反向代理提供HTTPS访问。系统采用了全新的界面设计，配色方案参考了现代化Web应用的设计理念，使用米白色背景和深绿色文字，提供舒适的视觉体验。

---

## 快速入门

### 访问系统

在浏览器中输入以下任一地址：

- **主域名**: https://www.inarbit.work
- **备用域名**: https://inarbit.work
- **IP地址**: https://8.211.158.208

系统使用Let's Encrypt SSL证书，确保连接安全。

### 首次登录

OctoBot是本地部署的系统，无需账号密码即可访问。打开网址后会自动进入首页（Home）。

### 界面布局

**顶部导航栏**：包含所有主要功能菜单，从左到右依次为首页、交易、投资组合、配置文件、账户、策略设计等。

**中间内容区**：显示当前页面的主要内容，如投资组合图表、交易列表、配置选项等。

**右上角功能按钮**：
- **模拟交易按钮**（绿色）：显示当前交易模式，点击可切换模拟/实盘模式
- **主题切换按钮**：切换明暗主题（当前已统一为浅色主题）
- **日志按钮**：查看系统运行日志
- **高级OctoBot按钮**：访问高级功能

**底部页脚**：包含OctoBot官方链接、社区链接、社交媒体链接等。

---

## 主菜单功能详解

### 1. 首页 (Home)

**访问路径**: 点击顶部导航栏"首页"或直接访问 https://www.inarbit.work/home

#### 功能说明

首页是系统的主控制面板，提供投资组合概览和市场监控功能。

#### 页面元素

**投资组合价值卡片**（顶部大卡片）：
- **当前总价值**：显示账户总资产价值（USDT计价）
- **24小时变化**：显示今日盈亏金额和百分比
- **历史曲线图**：展示过去24小时的投资组合价值变化趋势
- **图表工具栏**（右上角）：
  - 图表设置按钮
  - 全屏显示按钮
  - 数据导出按钮

**监控市场卡片**（底部）：
- **实时价格图表**：显示当前监控的交易对价格走势
- **交易所信息**：显示数据来源交易所（如Binance）
- **时间框架**：显示K线周期（如1分钟、5分钟）
- **成交量柱状图**：显示交易量变化

#### 操作指南

**查看详细数据**：将鼠标悬停在图表上任意位置，会显示该时间点的具体数值。

**调整时间范围**：点击图表右上角的设置按钮，可选择不同的时间范围（1小时、6小时、24小时、7天等）。

**添加监控市场**：如果显示"没有监控的市场"，点击提示中的"交易部分"链接，进入配置页面添加要监控的交易对。

#### 注意事项

- 如果图表显示"OctoBot is starting"，说明系统正在启动，等待1-2分钟即可
- 如果持续显示加载状态，请检查交易所配置是否正确
- 投资组合价值每分钟更新一次

---

### 2. 交易 (Trading)

**访问路径**: 点击顶部导航栏"交易"或访问 https://www.inarbit.work/trading

#### 功能说明

交易页面是查看和管理所有交易活动的中心，包括盈亏统计、订单管理、市场状态和交易历史。

#### 四个标签页

**盈亏 (PnL) 标签页**：

显示交易盈亏统计数据。表格包含以下列：
- **Closing time**（平仓时间）：交易完成的时间
- **USDT Profit and Loss**（USDT盈亏）：单笔交易的盈亏金额
- **Cumulated USDT Profit and Loss**（累计USDT盈亏）：累计总盈亏
- **USDT traded volume**（USDT交易量）：交易金额

**重要提示**：只有支持盈亏历史的交易模式（如Grid Trading、Dip Analyser）才会显示数据。套利交易模式目前支持盈亏历史记录。

**订单 (Orders) 标签页**：

显示所有未完成的订单。表格包含以下列：
- **交易对**（Symbol）：如BTC/USDT
- **类型**（Type）：买入（Buy）或卖出（Sell）
- **价格**（Price）：订单价格
- **数量**（Amount）：订单数量
- **交易所**（Exchange）：执行订单的交易所
- **日期**（Date）：订单创建时间
- **总计**（Total）：订单总金额
- **#**：订单编号
- **取消**（Cancel）：取消订单按钮

**操作按钮**：
- **取消所有**（右上角红色按钮）：一键取消所有未完成订单
- **搜索框**：快速搜索特定订单
- **每页显示条数**：调整表格显示的订单数量

**市场状态 (Market Status) 标签页**：

显示各个交易对在不同交易所的实时状态，包括：
- 当前价格
- 24小时涨跌幅
- 交易量
- 市场深度
- 连接状态

**交易记录 (Trades) 标签页**：

显示所有已完成的交易历史。表格包含：
- **交易对**：交易的币种对
- **类型**：买入/卖出
- **价格**：成交价格
- **数量**：成交数量
- **时间**：成交时间
- **手续费**：交易手续费
- **交易所**：执行交易的交易所

#### 操作指南

**查看特定交易对的订单**：
1. 在搜索框中输入交易对名称（如"BTC"）
2. 表格会自动过滤显示相关订单

**取消单个订单**：
1. 找到要取消的订单
2. 点击该订单行最右侧的"取消"按钮
3. 确认取消操作

**取消所有订单**：
1. 点击右上角的"取消所有"按钮
2. 在弹出的确认对话框中点击"确认"
3. 系统会依次取消所有未完成订单

**导出交易数据**：
1. 切换到要导出的标签页
2. 点击表格右上角的导出按钮
3. 选择导出格式（CSV或Excel）

#### 注意事项

- 取消订单可能需要几秒钟时间，请耐心等待
- 已部分成交的订单取消后，已成交部分不会回滚
- 交易记录会永久保存，除非手动重置历史

---

### 3. 投资组合 (Portfolio)

**访问路径**: 点击顶部导航栏"投资组合"或访问 https://www.inarbit.work/portfolio

#### 功能说明

投资组合页面显示所有交易所账户的资产分布和余额详情。

#### 页面元素

**总览卡片**（顶部）：
- **总资产价值**：所有交易所账户的总价值（USDT计价）
- **资产分布饼图**：各币种占比可视化
- **24小时变化**：总资产的涨跌情况

**交易所账户列表**：

每个交易所显示一个独立卡片，包含：
- **交易所名称**：如Binance、OKX
- **账户总值**：该交易所账户的总价值
- **资产列表表格**：
  - **币种**（Currency）：如BTC、ETH、USDT
  - **可用余额**（Available）：可用于交易的数量
  - **冻结余额**（In Orders）：被订单占用的数量
  - **总余额**（Total）：可用+冻结的总量
  - **USDT价值**（Value in USDT）：该币种的USDT价值
  - **占比**（%）：在该交易所账户中的占比

**操作按钮**：
- **刷新余额**：手动刷新账户余额数据
- **重置历史**：清空投资组合历史数据（谨慎使用）

#### 操作指南

**查看特定币种余额**：
1. 在交易所卡片中找到对应币种
2. 查看"可用余额"列了解可交易数量
3. 查看"冻结余额"列了解被订单占用的数量

**刷新余额数据**：
1. 点击页面右上角的"刷新余额"按钮
2. 系统会从交易所API获取最新数据
3. 刷新完成后页面自动更新

**重置投资组合历史**：
1. 点击"重置历史"按钮
2. 在弹出的警告对话框中确认操作
3. 系统会清空所有历史数据（包括盈亏记录）

**警告**：重置历史是不可逆操作，会清除所有交易记录和盈亏统计！

#### 注意事项

- 余额数据每30秒自动更新一次
- 如果显示"无法获取余额"，请检查交易所API配置
- 模拟交易模式下显示的是虚拟资金余额
- 冻结余额会在订单取消或成交后自动释放

---

### 4. 配置文件 (Profile)

**访问路径**: 点击顶部导航栏"配置文件"或访问 https://www.inarbit.work/profile

#### 功能说明

配置文件页面是系统的核心配置中心，用于设置交易策略、交易所、交易参数等。

#### 五个标签页

**编辑配置 (Edit Profiles) 标签页**：

显示当前使用的配置文件信息：
- **配置文件名称**：如"Arbitrage 交易"
- **配置描述**：配置文件的说明文字
- **只读标识**：如果显示"只读"，说明这是系统预设配置，不能直接修改
- **查看配置按钮**：查看完整的配置文件内容（JSON格式）

**策略 (Strategies) 标签页**：

配置交易策略参数。对于套利交易模式，包含：

**套利交易模式说明**：
- 系统监控所有配置的交易所的价格
- 计算每个交易对的跨交易所平均价格
- 当某个交易所的价格与平均价格差异足够大时，触发套利交易
- 套利交易包含2个订单：
  1. 在本地交易所以当前价格下限价单（买入或卖出）
  2. 当第一个订单成交后，以平均价格下反向限价单获利，同时下止损单保护资金

**重要配置参数**：
- **风险参数**（Risk）：控制交易激进程度，范围0-1，当前设置为0.5
- **最小价格差异**（Min Price Difference）：触发套利的最小价差百分比
- **止损百分比**（Stop Loss）：止损单距离入场价格的百分比

**货币 (Currency) 标签页**：

选择要交易的币种：
- **启用的币种列表**：显示所有已启用交易的币种
- **可用币种列表**：显示所有支持但未启用的币种
- **添加币种按钮**：点击"+"按钮添加新币种
- **移除币种按钮**：点击"-"按钮移除币种

**常见交易对**：
- BTC/USDT（比特币）
- ETH/USDT（以太坊）
- BNB/USDT（币安币）
- SOL/USDT（Solana）

**交易所 (Exchanges) 标签页**：

配置交易所连接：

**已配置的交易所**：
- **Binance**：币安交易所（当前已配置）
- **启用状态**：绿色勾选表示已启用
- **API状态**：显示API连接状态
- **测试连接按钮**：测试API是否正常工作

**添加新交易所**：
1. 点击"添加交易所"按钮
2. 从下拉列表选择交易所（如OKX、Huobi、Kraken）
3. 输入API Key和Secret Key
4. 点击"测试连接"验证
5. 点击"保存"完成添加

**交易所用途**：
- **用于交易**：需要配置API密钥，系统会在此交易所执行买卖操作
- **仅用于价格参考**：无需API密钥，系统只读取价格数据用于计算平均价

**交易 (Trading) 标签页**：

配置交易器（Trader）参数：

**Trader simulator（交易模拟器）**：
- **Enabled（启用）**：勾选表示启用交易功能，取消勾选则停止交易
- **这是控制机器人启动/停止的关键开关！**

**交易参数**：
- **最小交易金额**（Min Trade Amount）：单笔交易的最小金额
- **最大交易金额**（Max Trade Amount）：单笔交易的最大金额
- **最大持仓数量**（Max Open Positions）：同时持有的最大订单数
- **交易手续费**（Trading Fees）：交易所手续费率（自动获取）

**自动化 (Automations) 标签页**：

配置自动化规则和触发器（高级功能）。

#### 三个重要按钮

**SAVE（保存）**：
- 保存当前配置更改，但不重启系统
- 更改会在下次重启时生效
- 适用于批量修改多个设置

**RESET ALL（重置所有）**：
- 将所有配置恢复到默认值
- **警告**：这是危险操作，会清除所有自定义设置
- 使用前请确认

**APPLY CHANGES AND RESTART（应用更改并重启）**：
- 保存配置并立即重启OctoBot
- 新配置会立即生效
- **这是最常用的按钮**

#### 操作指南

**启动机器人交易**：
1. 点击"配置文件"菜单
2. 点击"交易"标签页
3. 找到"Trader simulator"部分
4. **勾选"Enabled"复选框**
5. 点击"APPLY CHANGES AND RESTART"按钮
6. 等待系统重启（约30秒）
7. 返回首页查看交易状态

**停止机器人交易**：
1. 点击"配置文件"菜单
2. 点击"交易"标签页
3. 找到"Trader simulator"部分
4. **取消勾选"Enabled"复选框**
5. 点击"APPLY CHANGES AND RESTART"按钮
6. 系统重启后将停止所有交易活动

**调整风险参数**：
1. 点击"策略"标签页
2. 找到"Risk"参数
3. 拖动滑块或输入数值（0-1之间）
   - 0.3-0.4：保守型（交易频率低，风险小）
   - 0.5-0.6：平衡型（推荐设置）
   - 0.7-0.8：激进型（交易频率高，风险大）
4. 点击"APPLY CHANGES AND RESTART"

**添加监控的交易对**：
1. 点击"货币"标签页
2. 在"可用币种"列表中找到要添加的币种
3. 点击币种旁边的"+"按钮
4. 币种会移动到"启用的币种"列表
5. 点击"APPLY CHANGES AND RESTART"

**添加新交易所**：
1. 点击"交易所"标签页
2. 点击"添加交易所"按钮
3. 选择交易所（如OKX）
4. 输入从交易所获取的API Key和Secret Key
5. 点击"测试连接"按钮验证
6. 如果测试成功，点击"保存"
7. 点击"APPLY CHANGES AND RESTART"

#### 注意事项

- 每次修改配置后必须点击"APPLY CHANGES AND RESTART"才能生效
- 系统重启期间（约30秒）无法访问Web界面
- 修改配置前建议先停止所有交易
- API密钥需要有交易权限，但建议不要开启提现权限
- 只读配置文件不能直接修改，需要创建副本后修改

---

### 5. 账户 (Accounts)

**访问路径**: 点击顶部导航栏"账户"或访问 https://www.inarbit.work/accounts

#### 功能说明

账户页面用于管理交易所API连接和账户信息。

#### 页面元素

**交易所账户列表**：

显示所有已配置的交易所账户卡片，每个卡片包含：
- **交易所名称和图标**
- **连接状态**：
  - 绿色勾选：已连接且工作正常
  - 红色叉号：连接失败或API错误
  - 黄色警告：连接不稳定
- **API信息**：
  - API Key（部分隐藏显示）
  - 权限列表（读取、交易等）
  - 最后更新时间
- **操作按钮**：
  - **测试连接**：验证API是否正常
  - **编辑**：修改API密钥
  - **删除**：移除该交易所

**添加账户按钮**（右上角）：
- 点击可添加新的交易所账户

#### 操作指南

**添加新交易所账户**：
1. 登录交易所网站（如Binance）
2. 进入API管理页面
3. 创建新的API Key：
   - 名称：OctoBot
   - 权限：勾选"读取"和"现货交易"
   - **不要勾选"提现"权限**
   - IP白名单：添加服务器IP（8.211.158.208）
4. 复制API Key和Secret Key
5. 回到OctoBot账户页面
6. 点击"添加账户"按钮
7. 选择交易所类型
8. 粘贴API Key和Secret Key
9. 点击"测试连接"
10. 测试成功后点击"保存"

**测试交易所连接**：
1. 找到要测试的交易所卡片
2. 点击"测试连接"按钮
3. 系统会执行以下检查：
   - API密钥是否有效
   - 网络连接是否正常
   - 权限是否足够
   - 账户余额是否可读取
4. 查看测试结果：
   - ✅ 成功：显示"连接正常"
   - ❌ 失败：显示具体错误信息

**修改API密钥**：
1. 点击交易所卡片上的"编辑"按钮
2. 输入新的API Key和Secret Key
3. 点击"测试连接"验证
4. 点击"保存"

**删除交易所账户**：
1. 点击"删除"按钮
2. 在确认对话框中点击"确认"
3. 该交易所的所有配置和历史数据将被删除

#### 安全建议

**API密钥安全**：
- 永远不要开启"提现"权限
- 使用IP白名单限制访问
- 定期更换API密钥
- 不要在公共场合展示API密钥

**权限设置**：
- 只开启必要的权限（读取+现货交易）
- 不要开启合约交易权限（除非需要）
- 不要开启子账户管理权限

**监控账户活动**：
- 定期检查交易所的登录历史
- 查看API调用记录
- 设置交易所的异常交易提醒

#### 常见错误

**"Invalid API Key"（无效的API密钥）**：
- 检查API Key是否正确复制
- 确认API密钥未过期
- 检查IP白名单设置

**"Insufficient permissions"（权限不足）**：
- 确认API密钥有"现货交易"权限
- 重新创建API密钥并勾选正确的权限

**"Connection timeout"（连接超时）**：
- 检查服务器网络连接
- 确认交易所API服务正常
- 尝试稍后重试

---

### 6. 策略设计 (Strategy Designer)

**访问路径**: 点击顶部导航栏"策略设计"

#### 功能说明

策略设计器是高级功能，用于创建和编辑自定义交易策略。对于套利交易，通常使用系统预设的策略即可，无需自定义。

#### 注意事项

- 策略设计需要编程知识
- 修改策略可能导致系统不稳定
- 建议在模拟模式下充分测试后再用于实盘

---

### 7. 回测 (Backtesting)

**访问路径**: 点击顶部导航栏"回测"或访问 https://www.inarbit.work/backtesting

#### 功能说明

回测功能允许使用历史数据测试交易策略的效果，无需冒真实资金风险。

#### 页面元素

**回测配置区域**：
- **选择策略**：选择要测试的交易策略
- **选择交易对**：选择要测试的币种对
- **选择交易所**：选择数据来源交易所
- **时间范围**：
  - 开始日期
  - 结束日期
  - 时间框架（1分钟、5分钟、1小时等）
- **初始资金**：设置回测的初始资金量

**开始回测按钮**：点击开始执行回测

**回测结果区域**：
- **总收益**：回测期间的总盈亏
- **收益率**：收益百分比
- **最大回撤**：最大亏损幅度
- **交易次数**：执行的交易总数
- **胜率**：盈利交易占比
- **盈亏曲线图**：资金变化可视化

#### 操作指南

**执行回测**：
1. 选择"套利交易模式"策略
2. 选择交易对（如BTC/USDT）
3. 选择交易所（如Binance）
4. 设置时间范围：
   - 开始日期：2025-12-01
   - 结束日期：2025-12-31
   - 时间框架：1小时
5. 设置初始资金：1000 USDT
6. 点击"开始回测"按钮
7. 等待回测完成（可能需要几分钟）
8. 查看回测结果

**分析回测结果**：
1. 查看总收益和收益率
2. 检查最大回撤是否在可接受范围内
3. 查看胜率和交易次数
4. 分析盈亏曲线的稳定性
5. 根据结果调整策略参数

#### 注意事项

- 回测结果仅供参考，实盘效果可能不同
- 历史数据不代表未来表现
- 回测不考虑滑点和网络延迟
- 建议多个时间段回测验证策略稳定性

---

### 8. 社区 (Community)

**访问路径**: 点击顶部导航栏"社区"

#### 功能说明

社区页面提供OctoBot官方社区和社交媒体链接。

#### 链接列表

**OctoBot官方网站**：https://www.octobot.cloud

**GitHub代码仓库**：https://github.com/Drakkar-Software/OctoBot

**Discord社区**：加入Discord服务器与其他用户交流

**Telegram群组**：加入Telegram群组获取实时支持

**Twitter**：关注官方Twitter获取最新动态

**YouTube频道**：观看教程视频和功能演示

---

### 9. 帮助 (Help)

**访问路径**: 点击顶部导航栏"帮助"

#### 功能说明

帮助页面提供官方文档链接和常见问题解答。

#### 资源链接

**官方文档**：https://www.octobot.info/

**使用指南**：详细的功能说明和教程

**API文档**：开发者API参考

**常见问题**：FAQ列表

---

### 10. 关于 (About)

**访问路径**: 点击顶部导航栏"关于"

#### 功能说明

显示OctoBot的版本信息和系统信息。

#### 页面内容

**版本信息**：
- OctoBot版本：2.0.16
- Python版本
- 操作系统版本
- 安装路径

**系统信息**：
- CPU使用率
- 内存使用率
- 磁盘使用率
- 运行时间

**许可证信息**：
- 开源许可证类型
- 版权声明

---

## 核心功能操作指南

### 如何启动/停止机器人

#### 方法1：通过配置文件（推荐）

**停止机器人**：
1. 点击顶部导航栏"配置文件"
2. 点击"交易"标签页
3. 找到"Trader simulator"部分
4. **取消勾选"Enabled"复选框**
5. 点击"APPLY CHANGES AND RESTART"按钮
6. 等待30秒系统重启
7. 机器人停止交易

**启动机器人**：
1. 点击顶部导航栏"配置文件"
2. 点击"交易"标签页
3. 找到"Trader simulator"部分
4. **勾选"Enabled"复选框**
5. 点击"APPLY CHANGES AND RESTART"按钮
6. 等待30秒系统重启
7. 机器人开始交易

#### 方法2：通过SSH命令（高级）

如果需要完全停止OctoBot服务：

```bash
# 停止容器
docker stop OctoBot

# 启动容器
docker start OctoBot

# 重启容器
docker restart OctoBot
```

### 如何切换模拟/实盘模式

**重要警告**：切换模式会重启OctoBot并清空当前数据！

#### 切换步骤

1. 点击顶部导航栏右上角的"模拟交易"按钮（绿色）
2. 在弹出的对话框中选择：
   - **模拟交易**：使用虚拟资金，零风险
   - **实盘交易**：使用真实资金，有风险
3. 阅读警告信息
4. 点击"确认切换"按钮
5. 系统自动重启（约30秒）
6. 重启后进入新模式

#### 模式区别

**模拟交易模式**：
- 使用虚拟资金（默认10 BTC）
- 不会在交易所执行真实交易
- 用于测试策略和熟悉系统
- 无任何资金风险
- 订单在本地模拟执行

**实盘交易模式**：
- 使用真实资金
- 在交易所执行真实交易
- 盈亏影响实际账户余额
- 有资金风险
- 需要正确配置API密钥

#### 注意事项

- 首次使用建议先在模拟模式下运行至少一周
- 切换到实盘前请确认策略参数合理
- 实盘模式下建议从小资金开始
- 切换模式会清空当前的订单和历史数据

### 如何配置套利策略

#### 基本配置

1. **选择交易对**：
   - 进入"配置文件" → "货币"标签页
   - 添加要交易的币种对（建议BTC/USDT、ETH/USDT）
   - 不要添加过多交易对（3-5个即可）

2. **配置交易所**：
   - 进入"配置文件" → "交易所"标签页
   - 至少配置2个交易所：
     - 1个用于执行交易（需要API密钥）
     - 1个或多个用于价格参考（无需API密钥）
   - 推荐组合：
     - Binance（执行交易）
     - OKX（价格参考）
     - Huobi（价格参考）

3. **调整风险参数**：
   - 进入"配置文件" → "策略"标签页
   - 调整"Risk"参数：
     - 新手：0.3-0.4（保守）
     - 有经验：0.5-0.6（平衡）
     - 激进：0.7-0.8（不推荐）

4. **设置交易金额**：
   - 进入"配置文件" → "交易"标签页
   - 设置"最小交易金额"：50 USDT
   - 设置"最大交易金额"：500 USDT
   - 设置"最大持仓数量"：3-5个

5. **应用配置**：
   - 点击"APPLY CHANGES AND RESTART"按钮
   - 等待系统重启

#### 高级配置

**调整价格差异阈值**：
- 进入"配置文件" → "策略"标签页
- 找到"Min Price Difference"参数
- 设置最小价差百分比（建议0.5%-1%）
- 价差越大，交易机会越少但利润越高

**配置止损策略**：
- 找到"Stop Loss"参数
- 设置止损百分比（建议2%-3%）
- 止损单会在亏损达到阈值时自动触发

**配置订单类型**：
- 限价单：价格精确但可能不成交
- 市价单：立即成交但价格可能滑点
- 建议使用限价单

### 如何监控交易状态

#### 实时监控

**首页监控**：
1. 访问首页
2. 查看投资组合价值变化
3. 观察价格图表波动
4. 检查是否有新的套利机会

**交易页面监控**：
1. 访问交易页面
2. 查看"订单"标签页的未完成订单
3. 查看"交易记录"标签页的成交历史
4. 查看"盈亏"标签页的盈利情况

**日志监控**：
1. 点击顶部导航栏右上角的"日志"按钮
2. 查看实时日志输出
3. 关注以下关键信息：
   - "New arbitrage opportunity"：发现套利机会
   - "Order placed"：订单已下单
   - "Order filled"：订单已成交
   - "Profit locked"：利润已锁定
   - "Error"：错误信息

#### 性能指标

**关键指标**：
- **日收益率**：每天的盈利百分比
- **胜率**：盈利交易占比
- **平均利润**：每笔交易的平均盈利
- **最大回撤**：最大亏损幅度
- **交易频率**：每天的交易次数

**查看方式**：
1. 访问"交易"页面
2. 点击"盈亏"标签页
3. 查看统计数据

#### 异常检测

**需要关注的异常**：
- 长时间无交易（可能是配置问题）
- 连续亏损（可能是市场环境不适合）
- API错误（可能是密钥失效）
- 网络错误（可能是服务器网络问题）

**处理方法**：
1. 查看日志确认错误类型
2. 检查配置是否正确
3. 测试交易所API连接
4. 必要时重启系统

### 如何处理错误和异常

#### 常见错误类型

**API错误**：
- 错误信息："Invalid API Key"、"Signature verification failed"
- 原因：API密钥错误或过期
- 解决方法：
  1. 进入"账户"页面
  2. 点击"测试连接"确认问题
  3. 重新生成API密钥
  4. 更新配置

**余额不足**：
- 错误信息："Insufficient balance"
- 原因：账户余额不足以执行交易
- 解决方法：
  1. 检查账户余额
  2. 调整交易金额参数
  3. 充值交易所账户

**网络错误**：
- 错误信息："Connection timeout"、"Network error"
- 原因：网络连接不稳定
- 解决方法：
  1. 检查服务器网络连接
  2. 等待网络恢复
  3. 重启OctoBot

**订单错误**：
- 错误信息："Order rejected"、"Invalid price"
- 原因：订单参数不符合交易所规则
- 解决方法：
  1. 检查最小交易金额
  2. 检查价格精度
  3. 调整订单参数

#### 紧急停止

如果发现系统异常需要紧急停止：

**方法1：Web界面**：
1. 进入"配置文件" → "交易"标签页
2. 取消勾选"Trader simulator Enabled"
3. 点击"APPLY CHANGES AND RESTART"

**方法2：取消所有订单**：
1. 进入"交易"页面
2. 点击"取消所有"按钮
3. 确认取消

**方法3：SSH命令**：
```bash
ssh root@8.211.158.208
docker stop OctoBot
```

#### 日志分析

**查看日志**：
1. 点击顶部导航栏右上角的"日志"按钮
2. 或通过SSH查看：
```bash
ssh root@8.211.158.208
docker logs OctoBot --tail 100
```

**日志级别**：
- **INFO**：正常信息
- **WARNING**：警告信息（需要关注）
- **ERROR**：错误信息（需要处理）
- **CRITICAL**：严重错误（需要立即处理）

---

## 高级配置

### SSH访问服务器

#### 连接信息

- **服务器IP**：8.211.158.208
- **用户名**：root
- **端口**：22
- **认证方式**：SSH密钥

#### 连接命令

```bash
ssh root@8.211.158.208
```

### Docker容器管理

#### 常用命令

**查看容器状态**：
```bash
docker ps
```

**查看容器日志**：
```bash
docker logs OctoBot
docker logs OctoBot --tail 100  # 查看最后100行
docker logs OctoBot -f          # 实时跟踪日志
```

**重启容器**：
```bash
docker restart OctoBot
```

**停止容器**：
```bash
docker stop OctoBot
```

**启动容器**：
```bash
docker start OctoBot
```

**进入容器**：
```bash
docker exec -it OctoBot /bin/bash
```

### 数据备份

#### 备份配置文件

```bash
# 备份配置目录
docker cp OctoBot:/octobot/user /root/octobot_backup_$(date +%Y%m%d)

# 备份数据库
docker cp OctoBot:/octobot/user/data /root/octobot_data_backup_$(date +%Y%m%d)
```

#### 恢复配置

```bash
# 恢复配置
docker cp /root/octobot_backup_20260105 OctoBot:/octobot/user

# 重启容器
docker restart OctoBot
```

### 性能优化

#### 系统资源监控

**查看CPU和内存使用**：
```bash
docker stats OctoBot
```

**查看磁盘使用**：
```bash
df -h
```

#### 优化建议

**减少交易对数量**：
- 不要同时监控超过10个交易对
- 专注于流动性好的主流币种

**调整数据更新频率**：
- 降低K线数据更新频率
- 减少API调用次数

**清理历史数据**：
- 定期清理旧的交易记录
- 保留最近3个月的数据即可

### 安全加固

#### 防火墙配置

```bash
# 只允许必要的端口
ufw allow 22/tcp    # SSH
ufw allow 80/tcp    # HTTP
ufw allow 443/tcp   # HTTPS
ufw enable
```

#### SSL证书更新

```bash
# 手动更新Let's Encrypt证书
certbot renew

# 重启Nginx
systemctl restart nginx
```

#### 定期更新

```bash
# 更新系统
apt update && apt upgrade -y

# 更新Docker镜像
docker pull drakkarsoftware/octobot:latest
docker stop OctoBot
docker rm OctoBot
# 重新创建容器（使用原有配置）
```

---

## 常见问题解答

### Q1: 机器人一直不交易怎么办？

**可能原因**：

1. **交易器未启用**：
   - 检查"配置文件" → "交易"标签页
   - 确认"Trader simulator Enabled"已勾选

2. **没有套利机会**：
   - 套利机会不是时时存在的
   - 可能需要等待几小时甚至几天
   - 尝试降低"Min Price Difference"参数

3. **只配置了一个交易所**：
   - 套利需要多个交易所比价
   - 至少添加2个交易所（1个执行+1个参考）

4. **风险参数过低**：
   - 当前设置0.5可能过于保守
   - 尝试提高到0.6-0.7

5. **初始资金不足**：
   - 检查账户余额是否足够
   - 模拟模式下检查虚拟资金是否充足

### Q2: 如何重置投资组合到初始状态？

**模拟模式**：

1. 进入"投资组合"页面
2. 点击"重置历史"按钮
3. 确认操作
4. 系统会将虚拟资金重置为初始值（10 BTC）

**实盘模式**：

实盘模式下无法重置真实资金，只能清空历史记录：
1. 进入"投资组合"页面
2. 点击"重置历史"按钮
3. 这只会清空历史数据，不会影响实际余额

### Q3: 为什么显示的余额和交易所不一致？

**可能原因**：

1. **数据未同步**：
   - 点击"刷新余额"按钮
   - 等待30秒自动更新

2. **模拟模式**：
   - 模拟模式显示的是虚拟资金
   - 与交易所真实余额无关

3. **API权限不足**：
   - 检查API密钥是否有"读取"权限
   - 重新测试API连接

4. **多个子账户**：
   - 确认API密钥对应的是哪个子账户
   - OctoBot只能读取API密钥对应账户的余额

### Q4: 如何提高套利收益？

**优化策略**：

1. **增加交易所数量**：
   - 添加更多交易所用于价格参考
   - 推荐：Binance、OKX、Huobi、Kraken、Bybit

2. **选择合适的交易对**：
   - 选择流动性好的主流币种
   - 避免小币种（价格波动大但成交困难）

3. **调整风险参数**：
   - 适当提高Risk参数（0.6-0.7）
   - 降低Min Price Difference（0.3%-0.5%）

4. **增加资金量**：
   - 更大的资金可以捕捉更多机会
   - 但要注意风险控制

5. **优化网络延迟**：
   - 使用靠近交易所服务器的VPS
   - 确保网络连接稳定快速

### Q5: 套利交易有哪些风险？

**主要风险**：

1. **价格滑点**：
   - 下单时价格可能已经变化
   - 导致实际成交价格不理想

2. **订单未成交**：
   - 限价单可能无法成交
   - 错过套利机会

3. **网络延迟**：
   - 网络延迟导致错过最佳时机
   - 价格已经回归正常

4. **交易所风险**：
   - 交易所可能暂停交易
   - API可能出现故障

5. **资金占用**：
   - 订单未成交时资金被冻结
   - 无法参与其他交易机会

**风险控制**：

1. **设置止损**：
   - 使用止损单保护资金
   - 及时止损避免大额亏损

2. **分散投资**：
   - 不要将所有资金投入单一交易对
   - 分散到多个交易对

3. **控制仓位**：
   - 单笔交易不超过总资金的10%
   - 保持足够的流动资金

4. **定期监控**：
   - 每天检查交易状态
   - 及时发现和处理异常

### Q6: 如何判断策略是否有效？

**评估指标**：

1. **收益率**：
   - 日收益率 > 0.5%：优秀
   - 日收益率 0.2%-0.5%：良好
   - 日收益率 < 0.2%：需要优化

2. **胜率**：
   - 胜率 > 70%：优秀
   - 胜率 50%-70%：良好
   - 胜率 < 50%：需要调整

3. **最大回撤**：
   - 最大回撤 < 5%：风险可控
   - 最大回撤 5%-10%：需要关注
   - 最大回撤 > 10%：风险过高

4. **交易频率**：
   - 每天3-10笔：正常
   - 每天 < 3笔：机会太少
   - 每天 > 20笔：可能过度交易

**评估方法**：

1. **回测验证**：
   - 使用历史数据回测
   - 至少测试3个月数据
   - 查看不同市场环境下的表现

2. **模拟测试**：
   - 在模拟模式下运行至少1周
   - 观察实际表现是否符合预期

3. **小资金实盘**：
   - 用小额资金（100-500 USDT）测试
   - 运行1-2周验证效果
   - 确认无误后再增加资金

### Q7: 系统突然停止工作怎么办？

**排查步骤**：

1. **检查容器状态**：
```bash
ssh root@8.211.158.208
docker ps -a
```

2. **查看错误日志**：
```bash
docker logs OctoBot --tail 100
```

3. **重启容器**：
```bash
docker restart OctoBot
```

4. **检查系统资源**：
```bash
free -h  # 查看内存
df -h    # 查看磁盘
```

5. **检查网络连接**：
```bash
ping 8.8.8.8
curl https://api.binance.com/api/v3/ping
```

**常见原因**：

- 内存不足导致容器崩溃
- 磁盘空间不足
- 网络连接中断
- API密钥过期
- Docker服务异常

### Q8: 如何更新OctoBot版本？

**更新步骤**：

1. **备份当前配置**：
```bash
docker cp OctoBot:/octobot/user /root/octobot_backup_$(date +%Y%m%d)
```

2. **停止并删除旧容器**：
```bash
docker stop OctoBot
docker rm OctoBot
```

3. **拉取新版本镜像**：
```bash
docker pull drakkarsoftware/octobot:latest
```

4. **创建新容器**：
```bash
docker run -d \
  --name OctoBot \
  -p 5001:5001 \
  -v /root/octobot-data:/octobot/user \
  --restart unless-stopped \
  drakkarsoftware/octobot:latest
```

5. **恢复配置**（如果需要）：
```bash
docker cp /root/octobot_backup_20260105 OctoBot:/octobot/user
docker restart OctoBot
```

**注意事项**：

- 更新前务必备份配置
- 查看更新日志了解变化
- 更新后重新测试所有功能
- 建议在模拟模式下先测试新版本

---

## 故障排查

### 无法访问Web界面

**症状**：浏览器无法打开 https://www.inarbit.work

**排查步骤**：

1. **检查服务器是否在线**：
```bash
ping 8.211.158.208
```

2. **检查Nginx服务**：
```bash
ssh root@8.211.158.208
systemctl status nginx
```

3. **检查OctoBot容器**：
```bash
docker ps | grep OctoBot
```

4. **检查端口监听**：
```bash
netstat -tlnp | grep 5001
netstat -tlnp | grep 443
```

**解决方法**：

- 如果Nginx未运行：`systemctl start nginx`
- 如果OctoBot容器未运行：`docker start OctoBot`
- 如果端口被占用：重启相关服务

### API连接失败

**症状**：显示"Invalid API Key"或"Connection failed"

**排查步骤**：

1. **测试API密钥**：
   - 进入"账户"页面
   - 点击"测试连接"按钮
   - 查看具体错误信息

2. **检查API权限**：
   - 登录交易所网站
   - 查看API密钥权限设置
   - 确认有"读取"和"现货交易"权限

3. **检查IP白名单**：
   - 确认服务器IP（8.211.158.208）在白名单中
   - 或者不设置IP限制

4. **检查API密钥状态**：
   - 确认API密钥未过期
   - 确认API密钥未被禁用

**解决方法**：

- 重新生成API密钥
- 正确设置权限和IP白名单
- 更新OctoBot中的API配置

### 订单无法成交

**症状**：订单长时间处于"未成交"状态

**排查步骤**：

1. **检查订单价格**：
   - 查看订单价格是否偏离市场价
   - 限价单价格不合理会导致无法成交

2. **检查账户余额**：
   - 确认有足够的余额
   - 检查是否有其他订单占用资金

3. **检查交易对状态**：
   - 确认交易对正常交易
   - 某些交易对可能暂停交易

4. **检查最小交易量**：
   - 确认订单金额符合交易所要求
   - 不同交易所有不同的最小交易量

**解决方法**：

- 取消订单重新下单
- 调整订单价格
- 使用市价单（但可能有滑点）
- 增加订单金额

### 数据显示异常

**症状**：投资组合价值、余额等数据显示不正确

**排查步骤**：

1. **刷新数据**：
   - 点击"刷新余额"按钮
   - 等待数据更新

2. **检查模式**：
   - 确认当前是模拟模式还是实盘模式
   - 模拟模式显示虚拟资金

3. **检查API连接**：
   - 测试交易所API连接
   - 确认能正常获取数据

4. **清除缓存**：
   - 清除浏览器缓存
   - 强制刷新页面（Ctrl+F5）

**解决方法**：

- 重启OctoBot容器
- 重新连接交易所API
- 重置投资组合历史（会清空数据）

### 系统运行缓慢

**症状**：页面加载慢、操作响应慢

**排查步骤**：

1. **检查系统资源**：
```bash
ssh root@8.211.158.208
top  # 查看CPU使用率
free -h  # 查看内存使用率
df -h  # 查看磁盘使用率
```

2. **检查Docker容器**：
```bash
docker stats OctoBot
```

3. **检查网络延迟**：
```bash
ping www.inarbit.work
```

**解决方法**：

- 如果内存不足：重启服务器或升级配置
- 如果磁盘不足：清理日志和临时文件
- 如果CPU过高：减少交易对数量或降低更新频率
- 如果网络延迟高：检查网络连接或更换服务器

### 日志错误分析

**常见错误及解决方法**：

**"Rate limit exceeded"**：
- 原因：API调用频率过高
- 解决：降低数据更新频率，等待限制解除

**"Order would immediately match and take"**：
- 原因：限价单价格会立即成交（交易所不允许）
- 解决：调整订单价格

**"Insufficient balance"**：
- 原因：余额不足
- 解决：充值或调整交易金额

**"Symbol not found"**：
- 原因：交易对不存在或已下架
- 解决：检查交易对名称，移除无效交易对

**"Timestamp for this request is outside of the recvWindow"**：
- 原因：服务器时间不同步
- 解决：同步服务器时间
```bash
ntpdate -u pool.ntp.org
```

---

## 附录

### A. 术语表

**套利 (Arbitrage)**：利用不同市场或交易所之间的价格差异进行买卖获利的交易策略。

**三角套利 (Triangular Arbitrage)**：在同一交易所内通过三种货币的汇率差异进行套利，无需在交易所之间转移资金。

**限价单 (Limit Order)**：以指定价格或更好价格买入或卖出的订单，可能不会立即成交。

**市价单 (Market Order)**：以当前市场最优价格立即买入或卖出的订单，保证成交但价格可能有滑点。

**滑点 (Slippage)**：订单实际成交价格与预期价格之间的差异。

**止损单 (Stop Loss Order)**：当价格达到指定水平时自动触发的卖出订单，用于限制损失。

**盈亏 (PnL, Profit and Loss)**：交易的盈利或亏损金额。

**回撤 (Drawdown)**：从峰值到谷底的最大跌幅，用于衡量风险。

**胜率 (Win Rate)**：盈利交易占总交易数的百分比。

**流动性 (Liquidity)**：资产买卖的容易程度，流动性好的资产可以快速成交且价格波动小。

**API (Application Programming Interface)**：应用程序接口，允许程序与交易所进行通信。

**API Key**：用于身份验证的密钥，类似于用户名。

**Secret Key**：与API Key配对使用的私钥，类似于密码，需要严格保密。

**模拟交易 (Paper Trading)**：使用虚拟资金进行交易测试，不涉及真实资金。

**实盘交易 (Live Trading)**：使用真实资金进行交易。

**K线 (Candlestick)**：显示一段时间内价格变化的图表，包含开盘价、收盘价、最高价、最低价。

**时间框架 (Timeframe)**：K线的时间周期，如1分钟、5分钟、1小时、1天等。

**交易对 (Trading Pair)**：两种加密货币的交易组合，如BTC/USDT表示用USDT买卖BTC。

**基础货币 (Base Currency)**：交易对中的第一个货币，如BTC/USDT中的BTC。

**报价货币 (Quote Currency)**：交易对中的第二个货币，如BTC/USDT中的USDT。

**订单簿 (Order Book)**：显示所有买入和卖出订单的列表。

**深度 (Depth)**：订单簿中不同价格水平的订单数量，反映市场流动性。

**成交量 (Volume)**：一段时间内的交易总量。

**手续费 (Trading Fee)**：交易所收取的交易费用，通常为交易金额的百分比。

**Maker**：提供流动性的交易者，下限价单等待成交。

**Taker**：消耗流动性的交易者，下市价单立即成交。

**回测 (Backtesting)**：使用历史数据测试交易策略的效果。

**Docker**：容器化技术，用于打包和运行应用程序。

**Nginx**：Web服务器和反向代理服务器。

**SSL/TLS**：加密协议，用于保护网络通信安全。

### B. 交易所API申请指南

#### Binance API申请

1. 登录Binance账户：https://www.binance.com
2. 点击右上角头像 → API管理
3. 点击"创建API"
4. 输入API标签：OctoBot
5. 完成安全验证（邮箱、手机、2FA）
6. 设置API权限：
   - ✅ 启用现货和杠杆交易
   - ✅ 启用读取
   - ❌ 不要启用提现
7. 设置IP白名单：8.211.158.208
8. 保存API Key和Secret Key
9. 在OctoBot中配置

#### OKX API申请

1. 登录OKX账户：https://www.okx.com
2. 点击右上角头像 → API
3. 点击"创建API密钥"
4. 输入API名称：OctoBot
5. 设置权限：
   - ✅ 读取
   - ✅ 交易
   - ❌ 提现
6. 设置IP白名单：8.211.158.208
7. 完成安全验证
8. 保存API Key、Secret Key和Passphrase
9. 在OctoBot中配置（需要输入Passphrase）

#### Huobi API申请

1. 登录Huobi账户：https://www.huobi.com
2. 点击右上角头像 → API管理
3. 点击"创建API Key"
4. 输入备注：OctoBot
5. 设置权限：
   - ✅ 读取
   - ✅ 交易
   - ❌ 提币
6. 绑定IP：8.211.158.208
7. 完成安全验证
8. 保存Access Key和Secret Key
9. 在OctoBot中配置

### C. 推荐资源

**官方资源**：
- OctoBot官网：https://www.octobot.cloud
- OctoBot文档：https://www.octobot.info
- GitHub仓库：https://github.com/Drakkar-Software/OctoBot
- Discord社区：https://discord.gg/octobot

**学习资源**：
- 加密货币交易基础：https://academy.binance.com
- 技术分析教程：https://www.tradingview.com/education/
- Python编程教程：https://www.python.org/about/gettingstarted/

**市场数据**：
- CoinMarketCap：https://coinmarketcap.com
- CoinGecko：https://www.coingecko.com
- TradingView：https://www.tradingview.com

**工具**：
- API测试工具：https://www.postman.com
- JSON格式化工具：https://jsonformatter.org
- 时间戳转换工具：https://www.epochconverter.com

### D. 联系支持

**技术支持**：
- 邮箱：support@octobot.cloud
- Discord：https://discord.gg/octobot
- GitHub Issues：https://github.com/Drakkar-Software/OctoBot/issues

**社区支持**：
- Telegram群组：https://t.me/OctoBot_Project
- Reddit：https://www.reddit.com/r/OctoBot/

**紧急联系**：
如果遇到严重问题导致资金风险，请立即：
1. 停止OctoBot交易
2. 取消所有订单
3. 联系交易所客服
4. 在Discord社区寻求帮助

### E. 免责声明

**风险提示**：

加密货币交易具有高风险，可能导致部分或全部资金损失。使用OctoBot进行自动交易前，请充分了解相关风险：

1. **市场风险**：加密货币市场波动剧烈，价格可能快速大幅变化。

2. **技术风险**：软件可能存在bug，网络可能中断，交易所可能出现故障。

3. **操作风险**：配置错误可能导致意外交易或损失。

4. **API风险**：API密钥泄露可能导致账户被盗。

5. **流动性风险**：某些交易对可能流动性不足，导致无法及时成交。

**使用须知**：

1. 本系统仅供学习和研究使用，不构成投资建议。

2. 使用者应自行承担所有交易风险和损失。

3. 建议先在模拟模式下充分测试，再使用真实资金。

4. 建议从小额资金开始，逐步增加投入。

5. 定期监控系统运行状态，及时发现和处理异常。

6. 妥善保管API密钥，不要与他人分享。

7. 遵守所在地区的法律法规，确保交易合法合规。

**软件许可**：

OctoBot是开源软件，遵循GNU Lesser General Public License v3.0许可证。使用本软件即表示您同意该许可证的条款。

---

## 文档更新记录

**版本 1.0** - 2026年1月5日
- 初始版本发布
- 包含所有主要功能说明
- 添加详细的操作指南
- 包含常见问题解答和故障排查

**后续更新**：
- 本文档将根据系统更新和用户反馈持续更新
- 建议定期查看最新版本文档

---

**文档结束**

如有任何问题或建议，请通过Discord社区或GitHub Issues反馈。

祝您交易顺利！🚀
